<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seguimiento de Pedido - PolloAsado</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <style>
    body { background:#f8f9fa; }
    .estado { font-weight:600; }
    .progress-step { display:flex; flex-direction:column; align-items:center; }
    .progress-step i { font-size:2rem; margin-bottom:6px; }
    .progress-step.active i { color:#0d6efd; }
    .progress-step.completed i { color:#198754; }
    .eta-box { background:#fff; border:1px solid #ddd; border-radius:8px; padding:15px; text-align:center; box-shadow:0 2px 6px rgba(0,0,0,.05); }
  </style>
</head>
<body class="d-flex flex-column min-vh-100">

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center" href="index.html">
        <img src="https://cdn-icons-png.flaticon.com/512/1206/1206237.png" width="45" height="40" class="me-2">
        <h2 class="mb-0">PolloAsado</h2>
      </a>
      <div class="d-flex">
        <a href="registroUsuario.html" class="nav-link text-white me-3"><i class="bi bi-person-circle" style="font-size:1.5rem;"></i></a>
        <a href="Pedidos.html" class="nav-link text-white"><i class="bi bi-cart3" style="font-size:1.5rem;"></i></a>
      </div>
    </div>
  </nav>

  <!-- CONTENIDO -->
  <div class="container my-5">
    <h3 class="text-center mb-4">🚚 Seguimiento de tu Pedido</h3>
    <p class="text-center text-muted mb-4">Observa en tiempo real el avance de tu orden.</p>

    <!-- Información general -->
    <div class="eta-box mb-5">
      <h5 class="mb-1">Pedido #R-1025</h5>
      <p class="mb-2 text-muted">Estado actual: <span id="estado-actual" class="estado text-primary">En preparación</span></p>
      <p class="mb-0"><i class="bi bi-clock me-2"></i>Tiempo estimado de llegada: <span id="eta-min">25</span> min</p>
    </div>

    <!-- Progreso visual -->
    <div class="container">
      <div class="row text-center">
        <div class="col progress-step" id="step-prep">
          <i class="bi bi-egg-fried"></i>
          <span>En preparación</span>
        </div>
        <div class="col progress-step" id="step-camino">
          <i class="bi bi-truck"></i>
          <span>En camino</span>
        </div>
        <div class="col progress-step" id="step-entregado">
          <i class="bi bi-house-check"></i>
          <span>Entregado</span>
        </div>
      </div>
      <div class="progress mt-4" style="height:10px;">
        <div id="barra-progreso" class="progress-bar progress-bar-striped progress-bar-animated bg-primary" style="width:33%"></div>
      </div>
    </div>

    <!-- Mapa simulado -->
    <div class="text-center mt-5">
      <div class="mapa-placeholder mx-auto" style="height:250px; width:100%; max-width:600px; background:linear-gradient(90deg,#e9ecef,#f8f9fa); border-radius:10px; display:flex; align-items:center; justify-content:center; color:#6c757d;">
        <i class="bi bi-map"></i> Mapa de ruta (simulado)
      </div>
    </div>

  </div>

  <!-- FOOTER -->
  <footer class="bg-black text-white mt-auto">
    <div class="container py-4">
      <div class="row">
        <div class="col-md-3 mb-3">
          <h4>PolloFast</h4>
          <img src="https://cdn-icons-png.flaticon.com/512/1206/1206237.png" width="50" height="45" class="me-2">
        </div>
        <div class="col-md-3 mb-3">
          <h6>Conócenos</h6>
          <p>Teléfono</p>
          <p>Mail de contacto</p>
          <p>Términos y condiciones</p>
        </div>
        <div class="col-md-3 mb-3">
          <h6>Redes sociales</h6>
          <p><i class="bi bi-instagram"></i> Instagram</p>
          <p><i class="bi bi-facebook"></i> Facebook</p>
          <p><i class="bi bi-twitter-x"></i> X</p>
        </div>
        <div class="col-md-3 mb-3">
          <h6>Mi cuenta</h6>
          <p>Pedir</p>
          <p>Iniciar sesión</p>
        </div>
      </div>
      <div class="text-center mt-3">
        <small><i class="bi bi-circle"></i></small>
      </div>
    </div>
  </footer>

  <!-- SCRIPT -->
  <script>
    // Simulación de progreso en tiempo real
    const estados = ["En preparación", "En camino", "Entregado"];
    const barra = document.getElementById("barra-progreso");
    const estadoTexto = document.getElementById("estado-actual");
    const eta = document.getElementById("eta-min");

    const steps = {
      prep: document.getElementById("step-prep"),
      camino: document.getElementById("step-camino"),
      entregado: document.getElementById("step-entregado")
    };

    let estadoActual = 0;  // 0=prep, 1=camino, 2=entregado
    let tiempoRestante = 25;

    function actualizarUI() {
      estadoTexto.textContent = estados[estadoActual];
      if (estadoActual === 0) {
        barra.style.width = "33%";
        steps.prep.classList.add("active");
      } else if (estadoActual === 1) {
        barra.style.width = "66%";
        steps.prep.classList.add("completed");
        steps.camino.classList.add("active");
      } else {
        barra.style.width = "100%";
        steps.prep.classList.add("completed");
        steps.camino.classList.add("completed");
        steps.entregado.classList.add("active");
      }
    }

    function disminuirETA() {
      if (tiempoRestante > 0) {
        tiempoRestante--;
        eta.textContent = tiempoRestante;
      }
    }

    // Simula el cambio de estado cada 10 segundos (solo demostrativo)
    function avanzarEstado() {
      if (estadoActual < 2) {
        estadoActual++;
        actualizarUI();
      }
    }

    // Inicialización
    actualizarUI();
    setInterval(disminuirETA, 60000);  // cada minuto
    setInterval(avanzarEstado, 10000); // cada 10 seg cambio simulado

  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
